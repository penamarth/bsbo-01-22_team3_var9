# ApplicationSubmissionOperations.md

## Описание системных операций

Данный документ описывает системные операции, необходимые для реализации прецедента "Подача гранта". Каждая операция связана с компонентами диаграммы классов и включает в себя подробные шаги выполнения, предусловия, действия и результаты.

---

### **1. Операция: submitApplication(application: Application)**

#### **Ссылка**
- **Прецедент:** Подача заявки на грант.
- **Компонент:** `ApplicationManager`.

#### **Предусловия**
1. Пользователь (Applicant) аутентифицирован.

#### **Действия**
1. Метод `submitApplication` принимает объект заявки в качестве аргумента.
2. `ApplicationManager` сохраняет заявку в системе с атрибутами:
   - `ID`: Уникальный идентификатор заявки.
   - `Title`: Название заявки.
   - `Description`: Описание заявки.
   - `Status`: Текущий статус заявки.
   - `Applicant`: Ссылка на пользователя-заявителя.
3. Система отправляет уведомление о успешной подаче заявки.

#### **Постусловия**
- Заявка успешно подана и сохранена в системе.
- Уведомление о статусе отправлено заявителю.
---

### **2. Операция: sendNotification(notification: Notification)**

#### **Ссылка**
- **Прецедент:** Подача заявки на грант.
- **Компонент:** `NotificationManager`.

#### **Предусловия**
1. Заявка успешно подана или обновлена.
2. Уведомление сформировано.

#### **Действия**
1. Метод `sendNotification` принимает объект уведомления в качестве аргумента.
2. `NotificationManager` отправляет уведомление пользователю (заявителю) о статусе заявки или других важных событиях.

#### **Постусловия**
- Уведомление успешно отправлено пользователю

---

### **3. Операция: login(email, password)**

#### **Ссылка**
- **Прецедент:** Подача заявки на грант.
- **Компонент:** `AuthManager`.

#### **Предусловия**
1. Пользователь зарегистрирован в системе.
2. Указанные учетные данные (имя пользователя и пароль) должны соответствовать данным в системе.

#### **Действия**
1. Метод `login` принимает два аргумента:
   - `email`: Email, используемый для аутентификации.
   - `password`: Пароль, связанный с указанным именем пользователя.
2. `AuthManager` проверяет наличие пользователя с указанным именем в базе данных.
3. Если пользователь найден, система проверяет корректность введенного пароля.
4. В случае успешной аутентификации:
   - Система создает сессию для пользователя.
   - Возвращает объект `User` с атрибутами:
     - `ID`: Уникальный идентификатор пользователя.
     - `Name`: Имя пользователя.
     - `Role`: Роль пользователя (например, Applicant).
     - `Email`: Email пользователя.
     - `Password`: пароль для входа.
5. Если аутентификация не удалась:
   - Система возвращает сообщение об ошибке с указанием причины (например, "Неверное имя пользователя или пароль").

#### **Постусловия**
- Пользователь успешно вошел в систему и имеет доступ к функционалу, связанному с подачей заявок на гранты.
- В случае неудачной попытки входа система информирует пользователя о проблеме.

---

### **4. Операция: getApplicationByID(UUID)**

#### **Ссылка**
- **Прецедент:** Подача заявки на грант.
- **Компонент:** `ApplicationManager`.

#### **Предусловия**
1. Пользователь (Applicant или Reviewer) должен быть аутентифицирован в системе.
2. Указанный идентификатор заявки (UUID) должен существовать в базе данных.

#### **Действия**
1. Метод getApplicationByID принимает один аргумент:
   - `applicationID`: Уникальный идентификатор заявки в формате UUID.
2. `ApplicationManager` выполняет запрос к базе данных для поиска заявки с указанным идентификатором.
3. Если заявка найдена:
   - Система извлекает данные заявки, включая:
     - `ID`: уникальный идентификатор заявки.
     - `Title`: название проекта.
     - `Description`: подробное описание проекта.
     - `Status`: статус заявки("На рассмотрении")
     - `Applicant`: пользователь.
4. Возвращает объект заявки с указанными атрибутами.
5. Если заявка не найдена:
   - Система возвращает сообщение об ошибке с указанием причины (например, "Заявка с данным ID не найдена").

#### **Постусловия**
- Пользователь получает доступ к информации о конкретной заявке на грант.
- В случае неудачного запроса система информирует пользователя о проблеме.

---

### Общие замечания:
1. Все операции требуют предварительной аутентификации пользователя, что обеспечивает безопасность данных.
2. Система включает механизм уведомлений, что позволяет пользователям быть в курсе статуса их заявок через `NotificationManager`.
3. Операция `getApplicationByID(UUID)` позволяет пользователям быстро получать необходимую информацию о своих заявках.